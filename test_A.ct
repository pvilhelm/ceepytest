#include <stdio.h>
#include <stdint.h>

/*
 * Ceepy test file simple_example.ct
 *
 * This is a simple example without external files linked in.
 */
 
/* Lets define some functions to test */

int add(int a, int b){
	return a+b;
} 

int mult(int a, int b){
	return a*b;
}

float fmax(float a, float b){
	// NAN will mess this up
	return a < b ? b : a;	
}

/*
 * For better test feedback, functions return types need to be specified.
 * /_*_! starts a Ceepy !-block, declare blocks.
 * § is a one line Ceepy comment in a Ceepy block
 */
 
/*!
int add()	  	§ If you "redefine" a function like this, Ceepy will print return values nicely.
int b_func()  	§ Otherwise, test values will be "preprocessed" inte to the C-file verbatim. 
float f_add();	§ Ending the statement with ";" is legal but optional
!*/             

/* 
 * Declare assertions with the Ceepy ?-block. The right hand side will be eval:ed 
 * in as Python syntax and converted to a string if it has the prefix #.
 * Both C++-style comments and C-style comments with the block marker is legal. 
 *
 * All assert blocks in file scope will be evaluated in the order they are written,
 * and the tests are put in the button of the file. 
 */

//? add(1,1) == 2    				§ Assert that 1+1 == 2 for our function
//? add(1234,4321) == #1234+4321   	§ To much math for me, lets use Python inline

/* Multi line assert-block treats each line as a separate assertion */

/*? § 
add(INT_MAX,1) == INT_MIN 		§ Overflows to INT_MIN
add(INT_MAX,INT_MAX) == -2      § Same thing as INT_MAX << 1	
?*/ 
 
/* Lets test mult() also */

/*?
mult(1,1) == 1
mult(0,INT_MAX) == 0
mult(-100,123) == # -100*123
mult(INT_MAX,INT_MIN) == 



